# Roo Custom Tools: TÃ­nh NÄƒng, Cáº¥u HÃ¬nh vÃ  VÃ­ Dá»¥ Sá»­ Dá»¥ng

## Giá»›i Thiá»‡u Tá»•ng Quan vá» Roo Custom Tools

Roo Custom Tools lÃ  má»™t tÃ­nh nÄƒng thá»­ nghiá»‡m cá»§a Roo Code â€” má»™t cÃ´ng cá»¥ AI há»— trá»£ láº­p trÃ¬nh mÃ£ nguá»“n má»Ÿ â€” cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘á»‹nh nghÄ©a cÃ¡c cÃ´ng cá»¥ tÃ¹y chá»‰nh báº±ng TypeScript hoáº·c JavaScript Ä‘á»ƒ AI cÃ³ thá»ƒ gá»i vÃ  sá»­ dá»¥ng giá»‘ng nhÆ° cÃ¡c cÃ´ng cá»¥ cÃ³ sáºµn. Thay vÃ¬ pháº£i nháº¯c Ä‘i nháº¯c láº¡i cÃ¡c bÆ°á»›c quy trÃ¬nh giá»‘ng nhau cho má»—i tÃ¡c vá»¥, báº¡n cÃ³ thá»ƒ chuáº©n hÃ³a cÃ¡c thao tÃ¡c Ä‘áº·c thÃ¹ cá»§a dá»± Ã¡n thÃ nh cÃ¡c cÃ´ng cá»¥ riÃªng, giÃºp tá»‘i Æ°u hÃ³a quy trÃ¬nh lÃ m viá»‡c cá»§a nhÃ³m vÃ  Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn. TÃ­nh nÄƒng nÃ y Ä‘áº·c biá»‡t há»¯u Ã­ch cho cÃ¡c dá»± Ã¡n cÃ³ quy trÃ¬nh phá»©c táº¡p, yÃªu cáº§u thá»±c hiá»‡n nhiá»u bÆ°á»›c láº·p Ä‘i láº·p láº¡i hoáº·c cáº§n tÃ­ch há»£p vá»›i cÃ¡c há»‡ thá»‘ng ná»™i bá»™ cá»§a dá»± Ã¡n. Khi Ä‘Æ°á»£c kÃ­ch hoáº¡t, cÃ¡c custom tools sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng phÃª duyá»‡t, nghÄ©a lÃ  Roo sáº½ khÃ´ng há»i xin phÃ©p trÆ°á»›c khi thá»±c thi chÃºng, Ä‘iá»u nÃ y giÃºp tÄƒng tá»‘c Ä‘á»™ lÃ m viá»‡c nhÆ°ng cÅ©ng Ä‘Ã²i há»i ngÆ°á»i dÃ¹ng pháº£i cáº©n tháº­n khi viáº¿t vÃ  cáº¥u hÃ¬nh cÃ¡c cÃ´ng cá»¥ tÃ¹y chá»‰nh.

Äiá»ƒm khÃ¡c biá»‡t quan trá»ng giá»¯a Custom Tools vÃ  MCP (Model Context Protocol) náº±m á»Ÿ má»¥c Ä‘Ã­ch sá»­ dá»¥ng: trong khi MCP Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ tÃ­ch há»£p vá»›i cÃ¡c dá»‹ch vá»¥ bÃªn ngoÃ i nhÆ° tÃ¬m kiáº¿m, API vÃ  cÃ¡c cÃ´ng cá»¥ bÃªn thá»© ba, thÃ¬ Custom Tools láº¡i nháº¹ hÆ¡n vÃ  phÃ¹ há»£p hÆ¡n cho logic ná»™i bá»™ cá»§a dá»± Ã¡n â€” nhá»¯ng thao tÃ¡c Ä‘áº·c thÃ¹ mÃ  chá»‰ dá»± Ã¡n cá»§a báº¡n má»›i cáº§n. Äiá»u nÃ y giÃºp báº¡n dá»… dÃ ng táº¡o ra cÃ¡c cÃ´ng cá»¥ chuyÃªn biá»‡t mÃ  khÃ´ng cáº§n pháº£i cáº¥u hÃ¬nh phá»©c táº¡p nhÆ° MCP. Custom Tools sá»­ dá»¥ng Zod Ä‘á»ƒ xÃ¡c thá»±c tham sá»‘ Ä‘áº§u vÃ o vÃ  tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i tá»« TypeScript, giÃºp Ä‘áº£m báº£o tÃ­nh an toÃ n vá» kiá»ƒu dá»¯ liá»‡u vÃ  giáº£m thiá»ƒu lá»—i trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn.

## Cáº¥u TrÃºc vÃ  ThÃ nh Pháº§n Cá»§a Custom Tools

### Vá»‹ TrÃ­ LÆ°u Trá»¯ CÃ´ng Cá»¥

Roo Code há»— trá»£ hai vá»‹ trÃ­ Ä‘á»ƒ lÆ°u trá»¯ custom tools, cho phÃ©p báº¡n linh hoáº¡t trong viá»‡c quáº£n lÃ½ vÃ  chia sáº» cÃ´ng cá»¥ giá»¯a cÃ¡c dá»± Ã¡n. ThÆ° má»¥c `.roo/tools/` trong thÆ° má»¥c gá»‘c cá»§a dá»± Ã¡n Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lÆ°u trá»¯ cÃ¡c cÃ´ng cá»¥ Ä‘áº·c thÃ¹ cho tá»«ng dá»± Ã¡n riÃªng láº», Ä‘áº£m báº£o ráº±ng má»—i dá»± Ã¡n cÃ³ thá»ƒ cÃ³ bá»™ cÃ´ng cá»¥ riÃªng phÃ¹ há»£p vá»›i yÃªu cáº§u vÃ  quy trÃ¬nh cá»§a mÃ¬nh. Trong khi Ä‘Ã³, thÆ° má»¥c `~/.roo/tools/` á»Ÿ cáº¥p Ä‘á»™ toÃ n cá»¥c cho phÃ©p báº¡n táº¡o cÃ¡c cÃ´ng cá»¥ chung cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong nhiá»u dá»± Ã¡n khÃ¡c nhau, tiáº¿t kiá»‡m thá»i gian vÃ  cÃ´ng sá»©c khi lÃ m viá»‡c trÃªn nhiá»u dá»± Ã¡n cÃ³ quy trÃ¬nh tÆ°Æ¡ng tá»±. Khi cÃ³ sá»± xung Ä‘á»™t tÃªn giá»¯a cÃ´ng cá»¥ toÃ n cá»¥c vÃ  cÃ´ng cá»¥ dá»± Ã¡n, Roo Code sáº½ Æ°u tiÃªn sá»­ dá»¥ng cÃ´ng cá»¥ dá»± Ã¡n, cho phÃ©p báº¡n ghi Ä‘Ã¨ hÃ nh vi cá»§a cÃ´ng cá»¥ toÃ n cá»¥c khi cáº§n thiáº¿t.

Viá»‡c phÃ¢n biá»‡t giá»¯a cÃ´ng cá»¥ toÃ n cá»¥c vÃ  cÃ´ng cá»¥ dá»± Ã¡n giÃºp tá»• chá»©c quy trÃ¬nh lÃ m viá»‡c má»™t cÃ¡ch hiá»‡u quáº£. CÃ¡c cÃ´ng cá»¥ toÃ n cá»¥c thÆ°á»ng bao gá»“m cÃ¡c tiá»‡n Ã­ch chung nhÆ° gá»­i thÃ´ng bÃ¡o, tÃ­ch há»£p vá»›i há»‡ thá»‘ng CI/CD hoáº·c cÃ¡c hÃ m tiá»‡n Ã­ch Ä‘Æ°á»£c sá»­ dá»¥ng thÆ°á»ng xuyÃªn. Trong khi Ä‘Ã³, cÃ´ng cá»¥ dá»± Ã¡n thÆ°á»ng chá»©a cÃ¡c logic nghiá»‡p vá»¥ Ä‘áº·c thÃ¹ nhÆ° táº¡o template code theo chuáº©n cá»§a dá»± Ã¡n, kiá»ƒm tra tuÃ¢n thá»§ coding standards hoáº·c tá»± Ä‘á»™ng hÃ³a cÃ¡c bÆ°á»›c deploy riÃªng cá»§a dá»± Ã¡n. CÃ¡ch tiáº¿p cáº­n nÃ y giÃºp duy trÃ¬ tÃ­nh module vÃ  kháº£ nÄƒng báº£o trÃ¬ mÃ£ nguá»“n trong dÃ i háº¡n.

### Cáº¥u TrÃºc CÆ¡ Báº£n Cá»§a Má»™t Custom Tool

Má»—i custom tool Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a thÃ´ng qua hÃ m `defineCustomTool` tá»« package `@roo-code/types`, vá»›i bá»‘n thÃ nh pháº§n chÃ­nh cáº§n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh rÃµ rÃ ng. Thuá»™c tÃ­nh `name` xÃ¡c Ä‘á»‹nh tÃªn cá»§a cÃ´ng cá»¥ mÃ  AI sáº½ nhÃ¬n tháº¥y vÃ  sá»­ dá»¥ng, do Ä‘Ã³ cáº§n Ä‘áº·t tÃªn ngáº¯n gá»n, rÃµ rÃ ng vÃ  pháº£n Ã¡nh Ä‘Ãºng chá»©c nÄƒng cá»§a cÃ´ng cá»¥. Thuá»™c tÃ­nh `description` mÃ´ táº£ cÃ´ng cá»¥ lÃ m gÃ¬ vÃ  Ä‘Æ°á»£c hiá»ƒn thá»‹ cho AI, giÃºp AI hiá»ƒu khi nÃ o nÃªn gá»i cÃ´ng cá»¥ nÃ y â€” má»™t mÃ´ táº£ tá»‘t sáº½ giÃºp AI Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh chÃ­nh xÃ¡c hÆ¡n vá» viá»‡c sá»­ dá»¥ng cÃ´ng cá»¥. Thuá»™c tÃ­nh `parameters` Ä‘á»‹nh nghÄ©a cÃ¡c tham sá»‘ Ä‘áº§u vÃ o thÃ´ng qua schema Zod, tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i thÃ nh JSON Schema Ä‘á»ƒ xÃ¡c thá»±c vÃ  hiá»ƒn thá»‹ cho AI biáº¿t cÃ´ng cá»¥ cáº§n nhá»¯ng tham sá»‘ nÃ o. Cuá»‘i cÃ¹ng, hÃ m `execute` lÃ  async function thá»±c hiá»‡n logic cá»§a cÃ´ng cá»¥ vÃ  tráº£ vá» káº¿t quáº£ dÆ°á»›i dáº¡ng string.

```typescript
import { parametersSchema as z, defineCustomTool } from "@roo-code/types"

export default defineCustomTool({
  name: "tool_name",
  description: "What the tool does (shown to AI)",
  parameters: z.object({
    param1: z.string().describe("Parameter description"),
    param2: z.number().describe("Another parameter"),
  }),
  async execute(args, context) {
    // args are type-safe and validated
    // context provides: mode, task
    return "Result string shown to AI"
  }
})
```

Context Ä‘Æ°á»£c truyá»n vÃ o hÃ m execute cung cáº¥p thÃ´ng tin vá» mode hiá»‡n táº¡i vÃ  task Ä‘ang thá»±c hiá»‡n, cho phÃ©p cÃ´ng cá»¥ tÃ¹y chá»‰nh hÃ nh vi dá»±a trÃªn ngá»¯ cáº£nh. Äiá»u nÃ y Ä‘áº·c biá»‡t há»¯u Ã­ch khi báº¡n muá»‘n cÃ´ng cá»¥ cÃ³ hÃ nh vi khÃ¡c nhau tÃ¹y thuá»™c vÃ o cháº¿ Ä‘á»™ lÃ m viá»‡c hoáº·c loáº¡i tÃ¡c vá»¥ Ä‘ang Ä‘Æ°á»£c thá»±c hiá»‡n. VÃ­ dá»¥, má»™t cÃ´ng cá»¥ táº¡o log cÃ³ thá»ƒ ghi log chi tiáº¿t hÆ¡n á»Ÿ cháº¿ Ä‘á»™ debug vÃ  chá»‰ ghi log cÆ¡ báº£n á»Ÿ cháº¿ Ä‘á»™ production.

## HÆ°á»›ng Dáº«n KÃ­ch Hoáº¡t vÃ  Cáº¥u HÃ¬nh

### Báº­t TÃ­nh NÄƒng Experimental

Äá»ƒ sá»­ dá»¥ng Custom Tools, trÆ°á»›c tiÃªn báº¡n cáº§n kÃ­ch hoáº¡t tÃ­nh nÄƒng thá»­ nghiá»‡m nÃ y trong Roo Code. Quy trÃ¬nh kÃ­ch hoáº¡t bao gá»“m viá»‡c má»Ÿ cÃ i Ä‘áº·t Roo Code báº±ng cÃ¡ch nháº¥p vÃ o biá»ƒu tÆ°á»£ng bÃ¡nh rÄƒng (âš™) á»Ÿ gÃ³c trÃªn bÃªn pháº£i cá»§a giao diá»‡n, sau Ä‘Ã³ Ä‘iá»u hÆ°á»›ng Ä‘áº¿n tab "Experimental" hoáº·c "Advanced Settings" tÃ¹y thuá»™c vÃ o phiÃªn báº£n báº¡n Ä‘ang sá»­ dá»¥ng. Trong pháº§n "Experimental Features", báº¡n sáº½ tÃ¬m tháº¥y tÃ¹y chá»n "Enable custom tools" â€” hÃ£y báº­t cÃ´ng táº¯c nÃ y Ä‘á»ƒ kÃ­ch hoáº¡t tÃ­nh nÄƒng. LÆ°u Ã½ ráº±ng Ä‘Ã¢y lÃ  tÃ­nh nÄƒng thá»­ nghiá»‡m, cÃ³ thá»ƒ khÃ´ng á»•n Ä‘á»‹nh vÃ  cÃ³ thá»ƒ thay Ä‘á»•i Ä‘Ã¡ng ká»ƒ trong cÃ¡c phiÃªn báº£n tÆ°Æ¡ng lai, vÃ¬ váº­y hÃ£y cÃ¢n nháº¯c ká»¹ trÆ°á»›c khi sá»­ dá»¥ng trong mÃ´i trÆ°á»ng production.

Má»™t Ä‘iá»ƒm quan trá»ng cáº§n lÆ°u Ã½ lÃ  khi Custom Tools Ä‘Æ°á»£c báº­t, táº¥t cáº£ cÃ¡c cÃ´ng cá»¥ tÃ¹y chá»‰nh sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng phÃª duyá»‡t â€” Roo sáº½ khÃ´ng há»i xin phÃ©p trÆ°á»›c khi thá»±c thi chÃºng. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  náº¿u báº¡n Ä‘á»‹nh nghÄ©a má»™t cÃ´ng cá»¥ cÃ³ chá»©a logic nguy hiá»ƒm nhÆ° xÃ³a file hay thá»±c thi lá»‡nh há»‡ thá»‘ng, AI cÃ³ thá»ƒ vÃ´ tÃ¬nh kÃ­ch hoáº¡t chÃºng mÃ  khÃ´ng cÃ³ cáº£nh bÃ¡o. VÃ¬ váº­y, báº¡n nÃªn review ká»¹ cÃ¡c cÃ´ng cá»¥ tÃ¹y chá»‰nh trÆ°á»›c khi thÃªm vÃ o vÃ  chá»‰ Ä‘á»‹nh nghÄ©a cÃ¡c cÃ´ng cá»¥ tá»« nguá»“n Ä‘Ã¡ng tin cáº­y.

### CÃ i Äáº·t npm Dependencies

Custom Tools há»— trá»£ sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n npm, cho phÃ©p báº¡n táº­n dá»¥ng há»‡ sinh thÃ¡i JavaScript phong phÃº Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c cÃ´ng cá»¥ máº¡nh máº½. Äá»ƒ cÃ i Ä‘áº·t dependencies, báº¡n cáº§n di chuyá»ƒn Ä‘áº¿n thÆ° má»¥c chá»©a tools vÃ  khá»Ÿi táº¡o npm project. Quy trÃ¬nh bao gá»“m cÃ¡c bÆ°á»›c: Ä‘áº§u tiÃªn, má»Ÿ terminal vÃ  cháº¡y `cd .roo/tools/` Ä‘á»ƒ di chuyá»ƒn Ä‘áº¿n thÆ° má»¥c tools cá»§a dá»± Ã¡n, sau Ä‘Ã³ cháº¡y `npm init -y` Ä‘á»ƒ khá»Ÿi táº¡o package.json, vÃ  cuá»‘i cÃ¹ng cÃ i Ä‘áº·t cÃ¡c packages cáº§n thiáº¿t báº±ng `npm install axios lodash` hoáº·c báº¥t ká»³ thÆ° viá»‡n nÃ o báº¡n cáº§n. ThÆ° má»¥c `.roo/tools/` sáº½ cÃ³ package.json riÃªng, giÃºp quáº£n lÃ½ dependencies Ä‘á»™c láº­p cho má»—i dá»± Ã¡n.

Viá»‡c sá»­ dá»¥ng npm dependencies má»Ÿ ra kháº£ nÄƒng tÃ­ch há»£p vá»›i háº§u háº¿t cÃ¡c dá»‹ch vá»¥ vÃ  API phá»• biáº¿n. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng axios hoáº·c fetch Ä‘á»ƒ gá»i REST API, sá»­ dá»¥ng cÃ¡c SDK cá»§a AWS, Google Cloud hoáº·c Azure Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cloud services, hoáº·c sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n xá»­ lÃ½ dá»¯ liá»‡u nhÆ° lodash, moment.js hoáº·c date-fns Ä‘á»ƒ thao tÃ¡c vá»›i dá»¯ liá»‡u. Tuy nhiÃªn, cáº§n lÆ°u Ã½ ráº±ng viá»‡c cÃ i Ä‘áº·t quÃ¡ nhiá»u dependencies cÃ³ thá»ƒ lÃ m cháº­m quÃ¡ trÃ¬nh khá»Ÿi táº¡o cÃ´ng cá»¥ vÃ  tÄƒng kÃ­ch thÆ°á»›c dá»± Ã¡n, vÃ¬ váº­y hÃ£y cÃ¢n nháº¯c ká»¹ vÃ  chá»‰ cÃ i Ä‘áº·t nhá»¯ng packages thá»±c sá»± cáº§n thiáº¿t.

## VÃ­ Dá»¥ Sá»­ Dá»¥ng Chi Tiáº¿t

### VÃ­ Dá»¥ 1: Gá»i API Vá»›i Axios

Má»™t trong nhá»¯ng use case phá»• biáº¿n nháº¥t cá»§a Custom Tools lÃ  tÃ­ch há»£p vá»›i cÃ¡c API bÃªn ngoÃ i. DÆ°á»›i Ä‘Ã¢y lÃ  vÃ­ dá»¥ vá» cÃ¡ch táº¡o má»™t cÃ´ng cá»¥ Ä‘á»ƒ fetch dá»¯ liá»‡u tá»« API endpoint sá»­ dá»¥ng thÆ° viá»‡n axios. CÃ´ng cá»¥ nÃ y nháº­n vÃ o má»™t URL vÃ  tráº£ vá» dá»¯ liá»‡u JSON tá»« endpoint Ä‘Ã³, Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng Ä‘áº¹p máº¯t Ä‘á»ƒ AI cÃ³ thá»ƒ dá»… dÃ ng Ä‘á»c vÃ  xá»­ lÃ½. Viá»‡c sá»­ dá»¥ng axios thay vÃ¬ fetch API máº·c Ä‘á»‹nh cung cáº¥p nhiá»u tiá»‡n Ã­ch hÆ¡n nhÆ° automatic JSON transformation, request/response interceptors vÃ  better error handling.

```typescript
import { parametersSchema as z, defineCustomTool } from "@roo-code/types"
import axios from "axios"

export default defineCustomTool({
  name: "fetch_api",
  description: "Fetch data from an API endpoint",
  parameters: z.object({
    url: z.string().describe("API endpoint URL to fetch data from"),
  }),
  async execute({ url }) {
    try {
      const response = await axios.get(url)
      return JSON.stringify(response.data, null, 2)
    } catch (error) {
      return `Error fetching data: ${error.message}`
    }
  }
})
```

CÃ´ng cá»¥ nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong nhiá»u tÃ¬nh huá»‘ng khÃ¡c nhau nhÆ° láº¥y thÃ´ng tin tá»« API cá»§a bÃªn thá»© ba, kiá»ƒm tra tráº¡ng thÃ¡i cá»§a cÃ¡c microservices, hoáº·c fetch dá»¯ liá»‡u tá»« cÃ¡c endpoint ná»™i bá»™ cá»§a dá»± Ã¡n. AI sáº½ tá»± Ä‘á»™ng gá»i cÃ´ng cá»¥ nÃ y khi cáº§n láº¥y dá»¯ liá»‡u tá»« internet, giÃºp Ä‘Æ¡n giáº£n hÃ³a quy trÃ¬nh tra cá»©u thÃ´ng tin vÃ  tÃ­ch há»£p dá»¯ liá»‡u tá»« cÃ¡c nguá»“n bÃªn ngoÃ i.

### VÃ­ Dá»¥ 2: Gá»­i ThÃ´ng BÃ¡o Äáº¿n Slack

Trong mÃ´i trÆ°á»ng lÃ m viá»‡c nhÃ³m, viá»‡c gá»­i thÃ´ng bÃ¡o Ä‘áº¿n cÃ¡c kÃªnh communication nhÆ° Slack lÃ  ráº¥t quan trá»ng Ä‘á»ƒ giá»¯ cho má»i ngÆ°á»i Ä‘Æ°á»£c cáº­p nháº­t vá» tiáº¿n Ä‘á»™ cÃ´ng viá»‡c. VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y minh há»a cÃ¡ch táº¡o má»™t cÃ´ng cá»¥ Ä‘á»ƒ gá»­i thÃ´ng bÃ¡o Ä‘áº¿n Slack webhook, sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng Ä‘á»ƒ báº£o máº­t thÃ´ng tin Ä‘Äƒng nháº­p. Viá»‡c sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng giÃºp báº£o vá»‡ cÃ¡c thÃ´ng tin nháº¡y cáº£m nhÆ° webhook URL vÃ  khÃ´ng vÃ´ tÃ¬nh expose chÃºng trong mÃ£ nguá»“n.

```typescript
import { parametersSchema as z, defineCustomTool } from "@roo-code/types"
import dotenv from "dotenv"
import path from "path"

dotenv.config({ path: path.join(__dirname, ".env") })

export default defineCustomTool({
  name: "notify_slack",
  description: "Send a notification to Slack channel",
  parameters: z.object({
    message: z.string().describe("Message to send to Slack"),
  }),
  async execute({ message }) {
    const webhookUrl = process.env.SLACK_WEBHOOK_URL
    if (!webhookUrl) return "Error: SLACK_WEBHOOK_URL not set in environment"
    
    try {
      const response = await fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text: message }),
      })
      
      if (response.ok) {
        return "Message sent successfully to Slack"
      } else {
        return `Failed to send message: ${response.status} ${response.statusText}`
      }
    } catch (error) {
      return `Error sending to Slack: ${error.message}`
    }
  }
})
```

Äá»ƒ sá»­ dá»¥ng cÃ´ng cá»¥ nÃ y, báº¡n cáº§n táº¡o má»™t file `.env` trong thÆ° má»¥c `.roo/tools/` vá»›i ná»™i dung `SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL`. CÃ´ng cá»¥ sáº½ tá»± Ä‘á»™ng Ä‘á»c file .env vÃ  sá»­ dá»¥ng cÃ¡c biáº¿n mÃ´i trÆ°á»ng Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a. Báº¡n cÃ³ thá»ƒ má»Ÿ rá»™ng cÃ´ng cá»¥ nÃ y Ä‘á»ƒ há»— trá»£ nhiá»u tÃ­nh nÄƒng hÆ¡n nhÆ° gá»­i tin nháº¯n vá»›i Ä‘á»‹nh dáº¡ng rich text, thÃªm attachments hoáº·c gá»­i Ä‘áº¿n nhiá»u channels khÃ¡c nhau.

### VÃ­ Dá»¥ 3: CÃ´ng Cá»¥ Táº¡o Code Theo Template

Má»—i dá»± Ã¡n thÆ°á»ng cÃ³ cÃ¡c coding conventions vÃ  templates riÃªng, vÃ  viá»‡c táº¡o má»™t custom tool Ä‘á»ƒ Ã¡p dá»¥ng nhá»¯ng templates nÃ y sáº½ Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n trong toÃ n bá»™ codebase. VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y táº¡o má»™t cÃ´ng cá»¥ Ä‘á»ƒ táº¡o React component vá»›i cáº¥u trÃºc vÃ  imports chuáº©n cá»§a dá»± Ã¡n.

```typescript
import { parametersSchema as z, defineCustomTool } from "@roo-code/types"
import fs from "fs"
import path from "path"

export default defineCustomTool({
  name: "create_react_component",
  description: "Create a new React component with standard template",
  parameters: z.object({
    componentName: z.string().describe("Name of the component (PascalCase)"),
    withStyles: z.boolean().describe("Whether to include styled-components").optional(),
    withTypescript: z.boolean().describe("Whether to use TypeScript").default(true),
  }),
  async execute({ componentName, withStyles = false, withTypescript = true }) {
    const ext = withTypescript ? "tsx" : "jsx"
    const dir = path.join(process.cwd(), "src", "components")
    
    // Ensure directory exists
    if (!fs.existsSync(dir)) {
      fs.mkdirSync(dir, { recursive: true })
    }
    
    const filePath = path.join(dir, `${componentName}.${ext}`)
    
    let content = `import React from 'react'\n`
    if (withStyles) {
      content += `import styled from 'styled-components'\n\n`
      content += `const Styled${componentName} = styled.div\`\n  /* Add your styles here */\n\`\n\n`
    }
    content += `export const ${componentName} = ({ children }) => {\n`
    content += `  return (\n`
    content += `    ${withStyles ? `<Styled${componentName}>` : `<div>`}\n`
    content += `      {children}\n`
    content += `    ${withStyles ? `</Styled${componentName}>` : `</div>`}\n`
    content += `  )\n`
    content += `}\n`
    content += `export default ${componentName}\n`
    
    fs.writeFileSync(filePath, content)
    return `Created ${componentName} component at ${filePath}`
  }
})
```

CÃ´ng cá»¥ nÃ y tá»± Ä‘á»™ng táº¡o file component vá»›i cáº¥u trÃºc chuáº©n, bao gá»“m viá»‡c táº¡o thÆ° má»¥c náº¿u chÆ°a tá»“n táº¡i, thÃªm imports cáº§n thiáº¿t vÃ  Ä‘á»‹nh dáº¡ng code theo chuáº©n cá»§a dá»± Ã¡n. Báº¡n cÃ³ thá»ƒ má»Ÿ rá»™ng template nÃ y Ä‘á»ƒ bao gá»“m cÃ¡c imports phá»• biáº¿n khÃ¡c nhÆ° React hooks, context providers hoáº·c cÃ¡c thÃ nh pháº§n UI chung cá»§a dá»± Ã¡n.

### VÃ­ Dá»¥ 4: CÃ´ng Cá»¥ Kiá»ƒm Tra Coding Standards

Äá»ƒ Ä‘áº£m báº£o cháº¥t lÆ°á»£ng code, viá»‡c tÃ­ch há»£p cÃ¡c cÃ´ng cá»¥ kiá»ƒm tra coding standards vÃ o quy trÃ¬nh lÃ m viá»‡c lÃ  ráº¥t quan trá»ng. VÃ­ dá»¥ dÆ°á»›i Ä‘Ã¢y táº¡o má»™t cÃ´ng cá»¥ Ä‘á»ƒ kiá»ƒm tra xem má»™t file cÃ³ tuÃ¢n thá»§ cÃ¡c quy táº¯c linting cÆ¡ báº£n hay khÃ´ng.

```typescript
import { parametersSchema as z, defineCustomTool } from "@roo-code/types"
import fs from "fs"

export default defineCustomTool({
  name: "check_coding_standards",
  description: "Check if a file follows project coding standards",
  parameters: z.object({
    filePath: z.string().describe("Path to the file to check"),
  }),
  async execute({ filePath }) {
    const results = []
    
    if (!fs.existsSync(filePath)) {
      return `Error: File not found at ${filePath}`
    }
    
    const content = fs.readFileSync(filePath, "utf-8")
    const lines = content.split("\n")
    
    // Check for console.log statements
    const consoleLogs = content.match(/console\.(log|warn|error|debug)\(/g)
    if (consoleLogs) {
      results.push(`âš ï¸ Found ${consoleLogs.length} console statement(s) - consider removing for production`)
    }
    
    // Check for TODO comments
    const todos = content.match(/\/\/\s*TODO[^\n]*/gi)
    if (todos) {
      results.push(`ğŸ“ Found ${todos.length} TODO comment(s) - review for completion`)
    }
    
    // Check line length
    const longLines = lines.filter((line, idx) => line.length > 120)
    if (longLines.length > 0) {
      results.push(`ğŸ“ Found ${longLines.length} line(s) exceeding 120 characters`)
    }
    
    // Check for trailing whitespace
    const trailingWhitespace = lines.filter(line => line.trimEnd() !== line)
    if (trailingWhitespace.length > 0) {
      results.push(`ğŸ” Found ${trailingWhitespace.length} line(s) with trailing whitespace`)
    }
    
    if (results.length === 0) {
      return "âœ… File passes all coding standard checks"
    }
    
    return `Coding Standards Report for ${filePath}:\n${results.join("\n")}`
  }
})
```

CÃ´ng cá»¥ kiá»ƒm tra nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c má»Ÿ rá»™ng Ä‘á»ƒ bao gá»“m nhiá»u quy táº¯c hÆ¡n nhÆ° kiá»ƒm tra imports ordering, kiá»ƒm tra naming conventions, hoáº·c tÃ­ch há»£p vá»›i cÃ¡c cÃ´ng cá»¥ ESLint vÃ  Prettier. Viá»‡c tá»± Ä‘á»™ng hÃ³a quy trÃ¬nh review code giÃºp Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n vÃ  giáº£m thá»i gian review thá»§ cÃ´ng.

## Giá»›i Háº¡n vÃ  LÆ°u Ã Quan Trá»ng

### CÃ¡c Giá»›i Háº¡n Ká»¹ Thuáº­t

Custom Tools cÃ³ má»™t sá»‘ giá»›i háº¡n ká»¹ thuáº­t quan trá»ng mÃ  ngÆ°á»i dÃ¹ng cáº§n lÆ°u Ã½ trong quÃ¡ trÃ¬nh sá»­ dá»¥ng. Äáº§u tiÃªn, táº¥t cáº£ cÃ¡c cÃ´ng cá»¥ tÃ¹y chá»‰nh Ä‘Æ°á»£c tá»± Ä‘á»™ng phÃª duyá»‡t khi tÃ­nh nÄƒng Ä‘Æ°á»£c báº­t â€” Ä‘iá»u nÃ y cÃ³ nghÄ©a lÃ  Roo sáº½ khÃ´ng há»i xin phÃ©p trÆ°á»›c khi thá»±c thi chÃºng, vá»«a lÃ  Æ°u Ä‘iá»ƒm vá» tá»‘c Ä‘á»™ vá»«a lÃ  rá»§i ro vá» báº£o máº­t náº¿u cÃ´ng cá»¥ khÃ´ng Ä‘Æ°á»£c viáº¿t cáº©n tháº­n. Thá»© hai, káº¿t quáº£ tráº£ vá» pháº£i lÃ  string â€” cÃ´ng cá»¥ khÃ´ng thá»ƒ tráº£ vá» cÃ¡c kiá»ƒu dá»¯ liá»‡u phá»©c táº¡p nhÆ° objects hoáº·c arrays má»™t cÃ¡ch trá»±c tiáº¿p, mÃ  pháº£i serialize chÃºng thÃ nh string (thÆ°á»ng báº±ng JSON.stringify). Thá»© ba, khÃ´ng há»— trá»£ interactive input â€” cÃ´ng cá»¥ khÃ´ng thá»ƒ yÃªu cáº§u ngÆ°á»i dÃ¹ng nháº­p liá»‡u trong quÃ¡ trÃ¬nh thá»±c thi, táº¥t cáº£ cÃ¡c tham sá»‘ cáº§n thiáº¿t pháº£i Ä‘Æ°á»£c truyá»n vÃ o ngay tá»« Ä‘áº§u.

NgoÃ i ra, cÃ²n cÃ³ váº¥n Ä‘á» vá» cache invalidation â€” sau khi thÃªm hoáº·c sá»­a Ä‘á»•i cÃ´ng cá»¥, báº¡n cÃ³ thá»ƒ cáº§n reload cá»­a sá»• VS Code Ä‘á»ƒ Roo nháº­n ra cÃ¡c thay Ä‘á»•i. Äiá»u nÃ y cÃ³ thá»ƒ gÃ¢y giÃ¡n Ä‘oáº¡n nhá» trong quy trÃ¬nh lÃ m viá»‡c, Ä‘áº·c biá»‡t khi báº¡n Ä‘ang trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn vÃ  testing cÃ¡c cÃ´ng cá»¥ má»›i. Má»™t giá»›i háº¡n khÃ¡c lÃ  khÃ´ng cÃ³ cÆ¡ cháº¿ sandboxing máº¡nh â€” cÃ¡c cÃ´ng cá»¥ cháº¡y vá»›i quyá»n cá»§a tiáº¿n trÃ¬nh VS Code, vÃ¬ váº­y má»™t cÃ´ng cá»¥ Ä‘á»™c háº¡i cÃ³ thá»ƒ gÃ¢y ra háº­u quáº£ nghiÃªm trá»ng.

### So SÃ¡nh vá»›i MCP

Khi quyáº¿t Ä‘á»‹nh giá»¯a Custom Tools vÃ  MCP, Ä‘iá»u quan trá»ng lÃ  hiá»ƒu rÃµ sá»± khÃ¡c biá»‡t vÃ  use case phÃ¹ há»£p cho má»—i giáº£i phÃ¡p. MCP (Model Context Protocol) Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ tÃ­ch há»£p vá»›i cÃ¡c dá»‹ch vá»¥ bÃªn ngoÃ i nhÆ° tÃ¬m kiáº¿m web, API cá»§a bÃªn thá»© ba vÃ  cÃ¡c cÃ´ng cá»¥ SaaS â€” Ä‘Ã¢y lÃ  giáº£i phÃ¡p phÃ¹ há»£p khi báº¡n cáº§n káº¿t ná»‘i vá»›i cÃ¡c há»‡ thá»‘ng cÃ³ sáºµn vÃ  khÃ´ng muá»‘n tá»± viáº¿t logic integration. Custom Tools thÃ¬ nháº¹ hÆ¡n vÃ  phÃ¹ há»£p hÆ¡n cho logic ná»™i bá»™ cá»§a dá»± Ã¡n â€” nhá»¯ng thao tÃ¡c Ä‘áº·c thÃ¹ mÃ  chá»‰ dá»± Ã¡n cá»§a báº¡n má»›i cáº§n, khÃ´ng yÃªu cáº§u káº¿t ná»‘i vá»›i cÃ¡c dá»‹ch vá»¥ bÃªn ngoÃ i.

Vá» Ä‘á»™ phá»©c táº¡p, MCP thÆ°á»ng yÃªu cáº§u cáº¥u hÃ¬nh nhiá»u hÆ¡n vÃ  cÃ³ thá»ƒ khÃ³ debug hÆ¡n do nature cá»§a viá»‡c káº¿t ná»‘i vá»›i cÃ¡c dá»‹ch vá»¥ bÃªn ngoÃ i. Custom Tools cho phÃ©p báº¡n viáº¿t logic báº±ng TypeScript/JavaScript quen thuá»™c, dá»… dÃ ng test vÃ  debug hÆ¡n. Vá» hiá»‡u suáº¥t, Custom Tools thÆ°á»ng cÃ³ latency tháº¥p hÆ¡n vÃ¬ chÃºng cháº¡y local vÃ  khÃ´ng cáº§n giao tiáº¿p qua network vá»›i cÃ¡c dá»‹ch vá»¥ bÃªn ngoÃ i. Tuy nhiÃªn, náº¿u báº¡n cáº§n tÃ­ch há»£p vá»›i nhiá»u dá»‹ch vá»¥ bÃªn ngoÃ i khÃ¡c nhau, MCP cÃ³ thá»ƒ lÃ  lá»±a chá»n tá»‘t hÆ¡n do cung cáº¥p má»™t framework chuáº©n hÃ³a cho viá»‡c quáº£n lÃ½ cÃ¡c connections.

## Best Practices vÃ  Khuyáº¿n Nghá»‹

### Báº£o Máº­t vÃ  An ToÃ n

Khi lÃ m viá»‡c vá»›i Custom Tools, báº£o máº­t nÃªn lÃ  Æ°u tiÃªn hÃ ng Ä‘áº§u vÃ¬ cÃ¡c cÃ´ng cá»¥ nÃ y cháº¡y vá»›i quyá»n háº¡n cao vÃ  Ä‘Æ°á»£c tá»± Ä‘á»™ng phÃª duyá»‡t. KhÃ´ng bao giá» lÆ°u trá»¯ thÃ´ng tin nháº¡y cáº£m nhÆ° API keys, passwords hoáº·c tokens trá»±c tiáº¿p trong mÃ£ nguá»“n â€” luÃ´n sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng vÃ  file .env Ä‘á»ƒ báº£o vá»‡ thÃ´ng tin nÃ y. Review ká»¹ táº¥t cáº£ cÃ¡c cÃ´ng cá»¥ trÆ°á»›c khi thÃªm vÃ o dá»± Ã¡n, Ä‘áº·c biá»‡t lÃ  cÃ¡c cÃ´ng cá»¥ Ä‘Æ°á»£c download tá»« internet hoáº·c chia sáº» bá»Ÿi ngÆ°á»i khÃ¡c. TrÃ¡nh táº¡o cÃ¡c cÃ´ng cá»¥ cÃ³ thá»ƒ thá»±c thi lá»‡nh há»‡ thá»‘ng hoáº·c thao tÃ¡c vá»›i file quan trá»ng trá»« khi thá»±c sá»± cáº§n thiáº¿t vÃ  Ä‘Ã£ Ä‘Æ°á»£c review cáº©n tháº­n.

### Tá»• Chá»©c vÃ  Maintainability

Äá»ƒ duy trÃ¬ tÃ­nh maintainability trong dÃ i háº¡n, hÃ£y tá»• chá»©c cÃ¡c custom tools má»™t cÃ¡ch cÃ³ cáº¥u trÃºc. Äáº·t tÃªn cÃ´ng cá»¥ rÃµ rÃ ng vÃ  mÃ´ táº£ chi tiáº¿t Ä‘á»ƒ AI cÃ³ thá»ƒ hiá»ƒu vÃ  sá»­ dá»¥ng chÃºng Ä‘Ãºng cÃ¡ch. TÃ¡ch riÃªng cÃ¡c cÃ´ng cá»¥ cÃ³ chá»©c nÄƒng khÃ¡c nhau thÃ nh cÃ¡c files riÃªng Ä‘á»ƒ dá»… dÃ ng quáº£n lÃ½ vÃ  update. Viáº¿t comments vÃ  documentation cho cÃ¡c cÃ´ng cá»¥ phá»©c táº¡p Ä‘á»ƒ ngÆ°á»i khÃ¡c (hoáº·c chÃ­nh báº¡n trong tÆ°Æ¡ng lai) cÃ³ thá»ƒ hiá»ƒu vÃ  modify náº¿u cáº§n. Cuá»‘i cÃ¹ng, hÃ£y version control cÃ¡c cÃ´ng cá»¥ báº±ng cÃ¡ch thÃªm chÃºng vÃ o git repository Ä‘á»ƒ theo dÃµi thay Ä‘á»•i vÃ  cÃ³ thá»ƒ rollback khi cáº§n thiáº¿t.

---

Roo Custom Tools lÃ  má»™t tÃ­nh nÄƒng máº¡nh máº½ cho phÃ©p báº¡n má»Ÿ rá»™ng kháº£ nÄƒng cá»§a Roo Code vÃ  tá»± Ä‘á»™ng hÃ³a cÃ¡c quy trÃ¬nh Ä‘áº·c thÃ¹ cá»§a dá»± Ã¡n. Báº±ng cÃ¡ch tuÃ¢n thá»§ cÃ¡c best practices vÃ  hiá»ƒu rÃµ cÃ¡c giá»›i háº¡n, báº¡n cÃ³ thá»ƒ táº­n dá»¥ng tá»‘i Ä‘a tiá»m nÄƒng cá»§a cÃ´ng cá»¥ nÃ y Ä‘á»ƒ nÃ¢ng cao nÄƒng suáº¥t vÃ  Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n trong quy trÃ¬nh phÃ¡t triá»ƒn pháº§n má»m.